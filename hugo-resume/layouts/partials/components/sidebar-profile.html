{{ $profile := partialCached "functions/get_author_profile" "farnaz-soltaniani" "farnaz-soltaniani" }}

<!-- Left static sidebar for the profile block -->
<div class="md:w-56 shrink-0 md:sticky md:top-32 h-max overflow-y-auto hidden md:block pr-8 pb-12">
    <div class="flex flex-col space-y-4">
        {{ if $profile.avatar }}
        <div class="flex justify-start mb-2">
            {{ $avatar_image := $profile.avatar.Fill "140x140 Center" }}
            <img class="rounded-full w-32 h-32 object-cover border border-gray-200 shadow-sm opacity-90 saturate-50 brightness-110 hover:opacity-100 hover:saturate-100 transition-all duration-500"
                src="{{ $avatar_image.RelPermalink }}" alt="{{ $profile.title }}">
        </div>
        {{ end }}

        <h1 class="text-[18px] font-bold text-[#155ea3] mt-2 mb-0">{{ $profile.title }}</h1>

        <div class="text-[14px] text-gray-500 leading-snug">
            {{ $profile.role | markdownify | emojify }}
        </div>

        <div class="pt-3 flex flex-col space-y-3 mt-3 text-[13px] text-gray-500">
            {{ range $profile.links }}
            <a href="{{ .url }}" target="_blank" rel="noopener"
                class="flex items-center hover:text-inherit hover:underline transition-colors">
                <span class="w-4 h-4 mr-3 flex items-center justify-center text-gray-400">
                    {{ $pack := "fas" }}
                    {{ $icon := .icon }}
                    {{ if in .icon "/" }}
                    {{ $parts := split .icon "/" }}
                    {{ $pack = index $parts 0 }}
                    {{ $icon = index $parts 1 }}
                    {{ end }}
                    {{ partial "functions/get_icon" (dict "name" $icon "pack" $pack "attributes" "class='w-4 h-4'") }}
                </span>
                <span>
                    {{ $display := .label }}
                    {{ if not $display }}
                    {{ $display = .url | replaceRE "^https?://" "" | replaceRE "^mailto:" "" | strings.TrimRight "/" }}
                    {{ if eq .icon_pack "academicons" }}{{ $display = "Google Scholar" }}{{ end }}
                    {{ if in .url "scholar.google" }}{{ $display = "Google Scholar" }}{{ end }}
                    {{ if in .url "skype" }}{{ $display = "Skype" }}{{ end }}
                    {{ if in .url "linkedin" }}{{ $display = "LinkedIn" }}{{ end }}
                    {{ end }}
                    {{ $display }}
                </span>
            </a>
            {{ end }}
        </div>
    </div>
</div>

<!-- Mobile Profile Block -->
<div class="block md:hidden mb-12 flex flex-col items-start text-left space-y-4">
    {{ if $profile.avatar }}
    <div>
        {{ $avatar_image := $profile.avatar.Fill "140x140 Center" }}
        <img class="rounded-full w-32 h-32 object-cover border border-gray-200 shadow-sm opacity-90 saturate-50 brightness-110 hover:opacity-100 hover:saturate-100 transition-all duration-500"
            src="{{ $avatar_image.RelPermalink }}" alt="{{ $profile.title }}">
    </div>
    {{ end }}
    <h1 class="text-[18px] font-bold text-[#155ea3]">{{ $profile.title }}</h1>
    <div class="text-[14px] text-gray-500 leading-snug max-w-sm">
        {{ $profile.role | markdownify | emojify }}
    </div>
</div>